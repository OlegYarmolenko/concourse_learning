###---Resources(GIT)---###
repositories:
  key: ((vault:kv/git-service-cred.private-key))
  cicd:
    repository: git@git.sami.int.thomsonreuters.com:data_distribution_snowflake/dds_sdp_devops.git
    branch: function-app-deployment-almagest
  source:
    repository: git@github.com:OlegYarmolenko/examples.git
    branch: master
  source-dev:
    repository: git@git.sami.int.thomsonreuters.com:data_distribution_snowflake/dds_entitlements.git
    branch: dev
  source-hotfix:
    repository: git@git.sami.int.thomsonreuters.com:data_distribution_snowflake/dds_entitlements.git
    branch: hotfix
  concourse-script:
    repository: git@git.sami.int.thomsonreuters.com:data_distribution_snowflake/concourse-scripts.git
    branch: almagest-tasks
  version:
    repository: git@git.sami.int.thomsonreuters.com:data_distribution_snowflake/dds_entitlements.git
    branch: version
    file: version
  version-dev:
    repository: git@git.sami.int.thomsonreuters.com:data_distribution_snowflake/dds_entitlements.git
    branch: version
    file: dev-version
  version-hotfix:
    repository: git@git.sami.int.thomsonreuters.com:data_distribution_snowflake/dds_entitlements.git
    branch: version
    file: hotfix-version
###---Resources names for artifacts (all functions in solution)---###
artifact:
  regex: 
    etsae: AcceptEntitlements-([\.0-9]+).zip
    etspe: ApplyEntitlements-([\.0-9]+).zip
    etscn: CompassNotifier-([\.0-9]+).zip
    etsdrs: DeadRequestsSearcher-([\.0-9]+).zip
    etsrr: RefreshReplicas-([\.0-9]+).zip
  name:
    etsae: AcceptEntitlements-*.zip
    etspe: ApplyEntitlements-*.zip
    etscn: CompassNotifier-*.zip
    etsdrs: DeadRequestsSearcher-*.zip
    etsrr: RefreshReplicas-*.zip
terraform:
  script_dir: terraform/sdlc/almagest-deploy
  env_folder: almagest-entitlements
  terraform-version: 1.0.9
sonar-scan:
  cs_project_path: LSEG.QAtoSnowflake.Entitlements.AcceptEntitlements.csproj
  build_configuration: Release
  src: ApplicationCode
  sln_path: LSEG.QAtoSnowflake.Entitlements.sln
  test_path: LSEG.QAtoSnowflake.Entitlements.Tests

component:
  name:
    etsae: AcceptEntitlements
    etspe: ApplyEntitlements
    etscn: CompassNotifier
    etsdrs: DeadRequestsSearcher
    etsrr: RefreshReplicas
  cs_project_path:
    etsae: LSEG.QAtoSnowflake.Entitlements.AcceptEntitlements.csproj
    etspe: LSEG.QAtoSnowflake.Entitlements.ApplyEntitlements.csproj
    etscn: LSEG.QAtoSnowflake.Entitlements.CompassNotifier.csproj
    etsdrs: LSEG.QAtoSnowflake.Entitlements.DeadRequestsSearcher.csproj
    etsrr: LSEG.QAtoSnowflake.Entitlements.RefreshReplicas.csproj
  build_configuration: Release
  src:
    etsae: ApplicationCode/LSEG.QAtoSnowflake.Entitlements.AcceptEntitlements
    etspe: ApplicationCode/LSEG.QAtoSnowflake.Entitlements.ApplyEntitlements
    etscn: ApplicationCode/LSEG.QAtoSnowflake.Entitlements.CompassNotifier
    etsdrs: ApplicationCode/LSEG.QAtoSnowflake.Entitlements.DeadRequestsSearcher
    etsrr:  ApplicationCode/LSEG.QAtoSnowflake.Entitlements.RefreshReplicas

smoke-test:
 general:
  BAMS_URL: https://bams-aws.refinitiv.com/artifactory/api/nuget/default.migration.nuget.local
  Azure__Functions__AcceptEntitlementSecretName: AcceptEntitlementSecretName
  Azure__Blobs__EntitlementStorageSecretName: EntitlementStorageSecretName
  Azure_Functions_RefreshReplicaSecretName: ReplicaRefreshApi
  Snowflake__Internal__Account: rddpreprod1
  Snowflake__Internal__Role: ADMIN_ROLE
  Snowflake__Internal__Host: rddpreprod1.east-us-2.azure.snowflakecomputing.com
  Snowflake__Internal__Region: east-us-2
  Snowflake__Internal__Warehouse: COMPUTE_WH
  Snowflake__Internal__Schema: DBO
  Snowflake__External__Account: pr90826
  Snowflake__External__Role: ACCOUNTADMIN
  Snowflake__External__Host: pr90826.east-us-2.azure.snowflakecomputing.com
  Snowflake__External__Region: east-us-2
  Snowflake__External__Warehouse: READER_WH
  FunctionSlot: dev
 dev:
  Azure__KeyVaults__KeyVault: https://a250315-dev-eus2-ets-kv.vault.azure.net
  Azure__KeyVaults__SnowflakePasswordVault: https://a250315-dev-eus2-ets-kv.vault.azure.net/
  Application__CustomerIdName: CICD_DEV
  FunctionName: a250315-dds-dev-eus2-func-etspe
 qa: 
  Azure__KeyVaults__KeyVault: https://a250315-qa-eus2-ets-kv.vault.azure.net
  Azure__KeyVaults__SnowflakePasswordVault: https://a250315-qa-eus2-ets-kv.vault.azure.net/
  Application__CustomerIdName: CICD_QA_01
  FunctionName: a250315-dds-qa-eus2-func-etspe
 ppe: 
  Azure__KeyVaults__KeyVault: https://a250315-ppe-eus2-ets-kv.vault.azure.net
  Azure__KeyVaults__SnowflakePasswordVault: https://a250315-ppe-eus2-ets-kv.vault.azure.net/
  Application__CustomerIdName: CICD_QA_01
  Snowflake__Internal__Region: central-us
  Snowflake__External__Region: central-us
  FunctionName: a250315-dds-ppe-eus2-func-etspe
  dr:
    Azure__KeyVaults__KeyVault: https://a250315-ppe-cus-ets-kv.vault.azure.net
    Azure__KeyVaults__SnowflakePasswordVault: https://a250315-ppe-cus-ets-kv.vault.azure.net/
    Application__CustomerIdName: CICD_QA_DR_01
    FunctionName: a250315-dds-ppe-cus-func-etspe
 prod: 
  Azure__KeyVaults__KeyVault: https://a250315-prod-eus2-ets-kv.vault.azure.net
  Azure__KeyVaults__SnowflakePasswordVault: https://a250315-prod-eus2-ets-kv.vault.azure.net/
  Application__CustomerIdName: CICD_QA_01
  FunctionName: a250315-dds-prod-eus2-func-etspe
  Snowflake__Internal__Region: central-us
  Snowflake__External__Region: central-us
  dr:
    Azure__KeyVaults__KeyVault: https://a250315-prod-cus-ets-kv.vault.azure.net
    Azure__KeyVaults__SnowflakePasswordVault: https://a250315-prod-cus-ets-kv.vault.azure.net/
    Application__CustomerIdName: CICD_QA_DR_01
    FunctionName: a250315-dds-prod-cus-func-etspe

sql-scripts:
  exec_path: cicd/scripts/storproc-update

vault:
  vault-addr: https://vault.sdp.refinitiv.com
  vault-path-version: concourse/250315/kv/Entitlements-version
  ppe-version: ((vault:kv/Entitlements-version.ppe-version))
  prod-version: ((vault:kv/Entitlements-version.prod-version))

az-cli:
  rg-name: eastus2-250315-application-resources
  dev:
   etsae: a250315-dds-dev-eus2-func-etsae
   etspe: a250315-dds-dev-eus2-func-etspe 
   etscn: a250315-dds-dev-eus2-func-etscn
   etsdrs: a250315-dds-dev-eus2-func-etsdrs
   etsrr: a250315-dds-dev-eus2-func-etsrr
  qa:
   etsae: a250315-dds-qa-eus2-func-etsae
   etspe: a250315-dds-qa-eus2-func-etspe 
   etscn: a250315-dds-qa-eus2-func-etscn
   etsdrs: a250315-dds-qa-eus2-func-etsdrs
   etsrr: a250315-dds-qa-eus2-func-etsrr
  ppe:
   etsae: a250315-dds-ppe-eus2-func-etsae
   etspe: a250315-dds-ppe-eus2-func-etspe 
   etscn: a250315-dds-ppe-eus2-func-etscn
   etsdrs: a250315-dds-ppe-eus2-func-etsdrs
   etsrr: a250315-dds-ppe-eus2-func-etsrr
  prod:
   etsae: a250315-dds-prod-eus2-func-etsae
   etspe: a250315-dds-prod-eus2-func-etspe 
   etscn: a250315-dds-prod-eus2-func-etscn
   etsdrs: a250315-dds-prod-eus2-func-etsdrs
   etsrr: a250315-dds-prod-eus2-func-etsrr
  dr:
    rg-name: centralus-250315-application-resources
    ppe:
     etsae: a250315-dds-ppe-cus-func-etsae
     etspe: a250315-dds-ppe-cus-func-etspe 
     etscn: a250315-dds-ppe-cus-func-etscn
     etsdrs: a250315-dds-ppe-cus-func-etsdrs
     etsrr: a250315-dds-ppe-cus-func-etsrr
     ing: a250315-dds-ppe-ceus-func-ing
     ingcomp: a250315-dds-ppe-ceus-func-ing-compass
    prod:
     etsae: a250315-dds-prod-cus-func-etsae
     etspe: a250315-dds-prod-cus-func-etspe 
     etscn: a250315-dds-prod-cus-func-etscn
     etsdrs: a250315-dds-prod-cus-func-etsdrs
     etsrr: a250315-dds-prod-cus-func-etsrr
     ing: a250315-dds-prod-ceus-func-ing
     ingcomp: a250315-dds-prod-ceus-func-ing-compass


slot-settings:
  etscontainer: entitlements-slot
  failetscontainer: failed-entitlements-slot
  entitlementsqueue: entitlements-queue-slot
  rmvcontainer: dbremoval-slot
  flrmvcontainer: failed-dbremoval-slot
  isslotenv: "true"
  appid:
    etsae: Accept_Entitlements_slot
    etspe: Apply_Entitlements_slot
    etscn: Compass_Notifier_slot
    etsdrs: DeadRequestsSearcher_slot
    etsrr: ReplicaRefresh_slot
  hubname:
    setting: AzureFunctionsJobHost__extensions__durableTask__hubName
    etsae: AcceptEntitlementsSlot
    etspe: ProcessEntitlementsSlot
    etscn: CompassNotifierSlot
    etsdrs: DeadRequestsSearcherSlot
    etsrr: ReplicaRefreshSlot
  cosmos:
    dbname: dds-logging-slot
  snowflake:
    setting: SnowFlakeConnectionStringNamePrefix
    string: SF-ConnectionString-Slot

teams-notification:
  title:
    success: Job "$BUILD_JOB_NAME" was successful in pipeline "$BUILD_PIPELINE_NAME"
    failure: Job "$BUILD_JOB_NAME" failed in pipeline "$BUILD_PIPELINE_NAME"
  text:
    success: Build №$BUILD_NAME was **SUCCESSFUL**
    failure: Build №$BUILD_NAME failed **WITH ERRORS**
  actionTarget: $ATC_EXTERNAL_URL/teams/$BUILD_TEAM_NAME/pipelines/$BUILD_PIPELINE_NAME/jobs/$BUILD_JOB_NAME/builds/$BUILD_NAME
  actionName: Build URL